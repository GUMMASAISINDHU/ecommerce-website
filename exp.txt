pipeline {
    agent any
 
    stages {
        stage('Fetch Branches') {
            steps {
                script {
                    def branches = sh(returnStdout: true, script: 'https://github.com/GUMMASAISINDHU/ecommerce-website').trim().split('\n')
                    def branchList = []
                    branches.each { branch ->
                        def branchName = branch.split()[1].replace('refs/heads/', '')
                        branchList << branchName
                    }
                    echo "Branches: ${branchList.join(', ')}"
                }
            }
        }
 
        stage('Fetch Commit IDs') {
            steps {
                script {
                    def branches = sh(returnStdout: true, script: 'https://github.com/GUMMASAISINDHU/ecommerce-website').trim().split('\n')
                    def commitMap = [:]
                    branches.each { branch ->
                        def parts = branch.split()
                        def commitId = parts[0]
                        def branchName = parts[1].replace('refs/heads/', '')
                        commitMap[branchName] = commitId
                    }
                    echo "Branch Commit Map: ${commitMap}"
                }
            }
        }
 
        stage('Build Branches') {
            steps {
                script {
                    def branches = sh(returnStdout: true, script: 'https://github.com/GUMMASAISINDHU/ecommerce-website').trim().split('\n')
                    branches.each { branch ->
                        def branchName = branch.split()[1].replace('refs/heads/', '')
                        build job: 'YourJobName', parameters: [string(name: 'BRANCH_NAME', value: branchName)]
                    }
                }
            }
        }
    }
}

has context menu


has context menu

import jenkins.model.*
import hudson.plugins.git.*
import hudson.model.*
import org.eclipse.jgit.api.Git
 
def gitUrl = "https://github.com/GUMMASAISINDHU/ecommerce-website"
 
// Temporary directory for cloning
def tempDir = File.createTempFile("tempRepo", "")
tempDir.delete()
tempDir.mkdir()
 
def branches = []
 
try {
    // Clone the repository
    def git = Git.cloneRepository()
        .setURI(gitUrl)
        .setDirectory(tempDir)
        .call()
 
    // List branches
    def branchList = git.branchList().call()
    branchList.each {
        branches << it.getName().replace("refs/heads/", "")
    }
 
    git.close()
} catch (Exception e) {
    println("Error: " + e.getMessage())
} finally {
    // Clean up
    tempDir.deleteDir()
}
 
return branches   
